<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="preconnect" href="https://fonts.gstatic.com">

<link rel="stylesheet" type="text/css" th:href="@{/css/signup.css}">
<meta charset="UTF-8">
<title>회원가입 페이지</title>
<script type="text/javascript" th:src="@{/js/signup.js}"></script>
<script>
	function onclickAdmin() {
		// Get the checkbox
		var checkBox = document.getElementById("admin-check");
		// Get the output text
		var box = document.getElementById("admin-token");
		// If the checkbox is checked, display the output text
		if (checkBox.checked == true) {
			box.style.display = "block";
		} else {
			box.style.display = "none";
		}
	}
</script>
</head>

<body>
  <div id="signup">
    <span>회원가입</span>
    <form action="/thisiswe/signup" method="post">
      <span class="signup-classification">아이디</span><br>
      <button type="button" class="useridVerificationCheckBtn">아이디검증 </button>
      	<input type="text" id="userId" name="userId" class="login-input-box" placeholder="아이디를 입력해 주세요." onfocus="checkId(this)">
      	<span class="verification" id="idCheck"> </span> <br>
      	
      	
      <span class="signup-classification">비밀번호</span><br>
      <input id="password" name="userPassword" type="password" placeholder="비밀번호를 입력해 주세요." onfocus="checkPassword(this)">
      <span class="verification" id="passwordCheck"> </span>
        
      <input id="passwordConfirmation" type="password" placeholder="비밀번호를 한번 더 입력해 주세요." onfocus="doubleCheckPassword(this)">
      <span class="verification" id="secondaryPasswordConfirmation"> </span><br>
        
      <span class="signup-classification">이름</span><br>
      <input type="text" name="userName" placeholder="이름을 입력해 주세요." onfocus="namecheck(this)">
      <span class="verification" id="nameCheck"> </span><br>
      
      <span class="signup-classification">성별</span><br><br>
      <div>
      <input type="radio" name="userGender" value="남" class="login-input-box">남 &nbsp 
	  <input type="radio" name="userGender" value="여" class="login-input-box">여
      </div>
      <br>
      
      <span class="signup-classification">닉네임</span><br>
      <button type="button" class="nicknameVerificationCheckBtn">닉네임검증 </button>
      <input type="text" name="userNickname" class="login-input-nickname" placeholder="닉네임을 입력해 주세요." onfocus="nicknamecheck(this)">
      <span class="verification" id="nicknameCheck"> </span><br>
      
      <span class="signup-classification">이메일</span><br>
      
      <!-- 추가  -->
      <label for="code-input">인증 코드:</label>
	  <input id="code-input" type="text" name="code" required>
	  <button type="button" id="check-code-button">확인</button>
      <!-- 추가 -->
      
      <input type="text" id="email-input" name="userEmail" placeholder="이메일을 입력해 주세요." onfocus="emailcheck(this)">
      <span class="verification" id="emailCheck"> </span><br>
        
      <span class="signup-classification">휴대전화</span><br>
      <input type="tel" name="userPhoneNumber" placeholder="휴대전화번호를 입력해 주세요." onfocus="phoneCheck(this)">
      <span class="verification" id="phonenumCheck"> </span>
      <input id="verificationPhonenum" class="phoneButton" type="submit" value="인증번호 받기">

	  <div>
		<input id="admin-check" type="checkbox" name="admin"
			onclick="onclickAdmin()" style="margin-top: 40p x;">관리자 <input
			id="admin-token" type="password" name="adminToken"
			placeholder="관리자 암호" class="login-input-box"
			style="display: none">
	  </div>

      <span id="All-agree">
      	<input class="agree" type="checkbox" onclick="allchecked(this)">
      		<span class="terms">사용자 약관 전체 동의</span>
      </span><br>
      <input class="agree" type="checkbox" onclick="allcollect()"><span class="terms">서비스 이용 약관 동의 (필수)</span><br>
      <input class="agree" type="checkbox"onclick="allcollect()"><span class="terms">개인정보 처리방침 동의 (필수)</span><br>
      <input class="agree" type="checkbox"onclick="allcollect()"><span class="terms">만 14세 이상 확인 (필수)</span><br>
      <input class="agree" type="checkbox"onclick="allcollect()"><span class="terms">쿠폰, 이벤트 등 혜택 알림 동의 (선택)</span><br><br>
      <input id="signup-button" class="signup-button-class" type="submit" value="회원가입">
      <!-- <button id="signup-button" class="signup-button-class">회원 가입</button> -->
    </form>  
  </div>

  <script>
  
  const checkCodeButton = document.getElementById("check-code-button");
  
  checkCodeButton.addEventListener("click", async () => {
	  const email = document.getElementById("email-input").value;
	  const response = await fetch(`/auth?email=${email}`);
	  const data = await response.json();
	  const codeInput = document.getElementById("code-input");
	  if (data.code === codeInput.value) {
		  alert("인증되었습니다.");
		  } else {
			  alert("인증 코드가 일치하지 않습니다.");
			  }
	  });
  
  
  
  
  $(document).ready(function() {

	  
  $(".useridVerificationCheckBtn").on("click", function(){
	  
	  var userForm = $("#idCheck").html();
	  var userid = $(".login-input-box").val();

      console.log("===========userForm===== : " + userForm);
              console.log("===========userid===== : " + userid);
 

              $.ajax({
                  url:'/thisiswe/' + userid , //Controller에서 요청 받을 주소
                  type:"POST", // post 방식으로 전달
                  success: function(result){ //컨트롤러에서 넘어온 result값을 받는다 

                      console.log("result: " + result);

                  	if(result==true) {
                  		alert("중복이야");
                  	}
                  	else {
                  		if(userForm == "") {
                  			alert("사용해도 된다");
                  		}
                  		else
                  			alert("양식을 지켜달라에요");
                  	}
                      /* self.location.reload(); */
                  }
              })
          });
  
  
  $(".nicknameVerificationCheckBtn").on("click", function(){
	  
	  var userNicknameForm = $("#nicknameCheck").html();
	  var userNickname = $(".login-input-nickname").val();

      console.log("===========userNicknameForm===== : " + userNicknameForm);
              console.log("===========userNickname===== : " + userNickname);
 

              $.ajax({
                  url:'/thisiswe/userEmail/' + userNickname , //Controller에서 요청 받을 주소
                  type:"POST", // post 방식으로 전달
                  success: function(result){ //컨트롤러에서 넘어온 result값을 받는다 

                      console.log("result: " + result);

                  	if(result==true) {
                  		alert("중복이야");
                  	}
                  	else {
                  		if(userNicknameForm == "") {
                  			alert("사용해도 된다");
                  		}
                  		else
                  			alert("양식을 지켜달라에요");
                  	}
                      /* self.location.reload(); */
                  }
              })
          });
  });
  
  </script>
</body> 
=======
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap"
	rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/style.css">
<meta charset="UTF-8">
<title>회원가입 페이지</title>
<script>
	function onclickAdmin() {
		// Get the checkbox
		var checkBox = document.getElementById("admin-check");
		// Get the output text
		var box = document.getElementById("admin-token");
		// If the checkbox is checked, display the output text
		if (checkBox.checked == true) {
			box.style.display = "block";
		} else {
			box.style.display = "none";
		}
	}
</script>
</head>
<body>
	<div id="login-form">
		<div id="login-title">Sign up</div>
		<form action="/login/user/signup" method="post">
			<div class="login-id-label">아이디</div>
			<input type="text" name="userId" placeholder="UserId"
				class="login-input-box">
			<div class="login-id-label">패스워드</div>
			<input type="password" name="userPassword" class="login-input-box">
			<div class="login-id-label">닉네임</div>
			<input type="text" name="userNickname" placeholder="Nickname" class="login-input-box">
			<div class="login-id-label">성별</div>
			<input type="radio" name="userGender" value="남" class="login-input-box">남
			<input type="radio" name="userGender" value="여" class="login-input-box">여
			<div class="login-id-label">E-mail</div>
			<input type="text" name="userEmail" placeholder="E-mail"
				class="login-input-box">
			<div class="login-id-label">핸드폰번호</div>
			<input type="text" name="userPhoneNumber" placeholder="phonenumber"
				class="login-input-box">
			<div>
				<input id="admin-check" type="checkbox" name="admin"
					onclick="onclickAdmin()" style="margin-top: 40p x;">관리자 <input
					id="admin-token" type="password" name="adminToken"
					placeholder="관리자 암호" class="login-input-box"
					style="display: none">
			</div>
			<button id="login-id-submit">회원 가입</button>
		</form>
	</div>
</body>
>>>>>>> branch 'master(sub)' of https://github.com/HappyLeo7/thisiswe.git
</html>